# Title: [4Week] 박민준

---
## 미션 요구사항 분석 & 체크리스트

---
### 필수미션 - 네이버클라우드플랫폼을 통한 배포, 도메인, HTTPS 까지 적용

---

### 배경
- 네이버클라우드플랫폼을 이용합니다.

- 강사의 가이드영상대로 진행하시면 됩니다.

- 나머지 미션을 수행하신 후 마지막에 진행하시면 됩니다.
---
### 목표

---
- [x] `https://도메인/` 형태로 접속이 가능

- [x] 운영서버에서 각종 소셜로그인, 인스타 아이디 연결이 잘 되어야 합니다.

---
### 필수미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 성별 필터링기능 구현

---
### 배경

---
- 현재 UI에서는 이 요구사항에 대한 작업이 완료되었습니다.

- 백엔드 쪽에서 필터링 로직만 구현하시면 됩니다.
---
### 목표

---
- [x] 내가 받은 호감리스트에서 특정 성별을 가진 사람에게서 받은 호감만 필터링해서 볼 수 있다.

---
### 선택미션 - 젠킨스를 통해서 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록

---
### 배경

---
- 네이버클라우드플랫폼을 이용합니다.

- 젠킨스를 이용합니다.

- 강사의 가이드영상대로 진행하시면 됩니다.

- 나머지 미션을 수행하신 후 마지막에 진행하시면 됩니다.
---
### 목표

---
- [ ] 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행

---
### 선택미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 호감사유 필터링기능 구현

---
### 배경

---
- 현재 UI에서는 이 요구사항에 대한 작업이 완료되었습니다.

- 백엔드 쪽에서 필터링 로직만 구현하시면 됩니다.

---
### 목표

---
- [x] 내가 받은 호감리스트에서 특정 호감사유의 호감만 필터링해서 볼 수 있다.

---
### 선택미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 정렬기능

---
### 배경

---
- 현재 UI에서는 이 요구사항에 대한 작업이 완료되었습니다.

- 백엔드 쪽에서 필터링 로직만 구현하시면 됩니다.

---
### 목표

---
- [x] 아래 케이스 대로 작동해야 한다.
  - [x] 최신순(기본)
    - 가장 최근에 받은 호감표시를 우선적으로 표시
  - [x] 날짜순
    - 가장 오래전에 받은 호감표시를 우선적으로 표시
  - [x] 인기 많은 순
    - 가장 인기가 많은 사람들의 호감표시를 우선적으로 표시
  - [x] 인기 적은 순
    - 가장 인기가 적은 사람들의 호감표시를 우선적으로 표시
  - [x] 성별순
    - 여성에게 받은 호감표시를 먼저 표시하고, 그 다음 남자에게 받은 호감표시를 후에 표시
    - 2순위 정렬조건으로는 최신순
  - [x] 호감사유순
    - 외모 때문에 받은 호감표시를 먼저 표시하고, 그 다음 성격 때문에 받은 호감표시를 후에 표시, 마지막으로 능력 때문에 받은 호감표시를 후에 표시
    - 2순위 정렬조건으로는 최신순



## 4주차 미션 요약

---

### 접근 방법

---
**필수미션 - 네이버클라우드플랫폼을 통한 배포, 도메인, HTTPS 까지 적용**

---
- https://pmj.oa.gg 로 접속 가능

---
**필수미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 성별 필터링기능 구현**

---
- 성별 필터링 될때 url가 `toList?gender=` 식으로 나오는 걸 보고 `gender`가 `M`, `W` 일 때 각각 따로 필터링된 리스트 출력하도록 구현
---
**선택미션 - 젠킨스를 통해서 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록**

---
- 접근 방법

---
**선택미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 호감사유 필터링기능 구현**

---
- 호감사유 필터링 시에 url가 `attractiveTypeCode=` 식으로 나오는 걸 보고 `attractiveTypeCode`가 `1`,`2`,`3` 일 때 각각 따로 필터링된 리스트 출력하도록 구현
- 만약 성별필터링을 먼저 한 경우라면 이미 필터링된 리스트에서 다시 재필터링하도록 구현
- 만약 성별필터링을 하지 않았을 경우 기존의 리스트에서 필터링하도록 구현
---
**선택미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 정렬기능**

---
- 정렬 시에 `sortCode=` 식으로 url가 나오기 때문에 `sortCode` 가 `1~6` 인 경우에 각각의 정렬기준으로 필터링하도록 구현
- 만약 성별필터링, 호감사유 필터링을 먼저 한 경우라면 이미 필터링된 리스트에서 다시 필터링하도록 구현
- 만약 하지 않았을 경우 기존의 리스트에서 필터링하도록 구현
---

### 특이사항

---
**필수미션 - 네이버클라우드플랫폼을 통한 배포, 도메인, HTTPS 까지 적용**

---
- 도메인을 `lifeadd.be`로 구매했으나 적용이 안돼서 강사님이 주신 `pmj.oa.gg` 도메인으로 진행
---
**필수미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 성별 필터링기능 구현**

---
- `LikeablePerson` 에서 `Gender` 값 가져오려고 `getGender` 생성
---
**선택미션 - 젠킨스를 통해서 리포지터리의 main 브랜치에 커밋 이벤트가 발생하면 자동으로 배포가 진행되도록**

---
- 특이사항
---
**선택미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 호감사유 필터링기능 구현**

---
- X
---
**선택미션 - 내가 받은 호감리스트`(/usr/likeablePerson/toList)`에서 정렬기능**

---
- 인기순 정렬을 위해 `LikeablePerson` 에서 각 `attractiveTypeCode` 를 모두 더한 값 받아오려고 생성
- 성별, 호감사유순 정렬할 때 기본적으로 최신순 정렬이 되는 것 같아서 성별, 호감사유 정렬만 구현함
---
### Refactoring

---
**코드 리뷰 후**

---

- 리팩토링    