# Title: [2Week] 박민준

---
## 미션 요구사항 분석 & 체크리스트

---
### 필수미션 - 호감표시 시 예외처리 케이스 3가지 처리

---
### 목표

---
- [ ] 케이스 4 : 한명의 인스타회원이 다른 인스타회원에게 중복으로 호감표시를 할 수 없습니다.
  1. 예를 들어 본인의 인스타ID가 aaaa, 상대의 인스타ID가 bbbb 라고 하자.

  1. aaaa 는 bbbb 에게 호감을 표시한다.(사유 : 외모)

  1. 잠시 후 aaaa 는 bbbb 에게 다시 호감을 표시한다.(사유 : 외모)

  1. 이 경우에는 처리되면 안된다.(rq.historyBack)
- [ ] 케이스 5 : 한명의 인스타회원이 11명 이상의 호감상대를 등록 할 수 없습니다.

  1. 예를 들어 본인의 인스타ID가 aaaa 라고 하자.

  1. aaaa 는 bbbb, cccc, dddd, eeee, ffff, gggg, hhhh, iiii, jjjj, kkkk 에 대해서 호감표시를 했다.(사유는 상관없음, aaaa는 현재까지 10명에게 호감표시를 했음)

  1. 잠시 후 aaaa 는 llll 에게 호감표시를 한다.(사유는 상관없음)

  1. 이 경우에는 처리되면 안된다.(rq.historyBack)

- [ ] 케이스 6 : 케이스 4 가 발생했을 때 기존의 사유와 다른 사유로 호감을 표시하는 경우에는 성공으로 처리한다.

  1. 예를 들어 본인의 인스타ID가 aaaa, 상대의 인스타ID가 bbbb 라고 하자.

  1. aaaa 는 bbbb 에게 호감을 표시한다.(사유 : 외모)

  1. 잠시 후 aaaa 는 bbbb 에게 다시 호감을 표시한다.(사유 : 성격)

  1. 이 경우에는 새 호감상대로 등록되지 않고, 기존 호감표시에서 사유만 수정된다.

  - [ ] 외모 => 성격

  - [ ] resultCode=S-2

  - [ ] msg=bbbb 에 대한 호감사유를 외모에서 성격으로 변경합니다.


### 선택미션 - 네이버 로그인

---
### 목표

---
- [x] 네이버 로그인 창 구현
- [x] 카카오 로그인이 가능한것 처럼, 네이버 로그인으로도 가입 및 로그인 처리가 되도록 해주세요.
  - [x] 스프링 OAuth2 클라이언트로 구현해주세요.
- [x] 네이버 로그인으로 가입한 회원의 providerTypeCode : NAVER


## 2주차 미션 요약

---

### 접근 방법

---
**호감표시 시 예외처리 케이스 3가지 처리**

---
- ㅇㅇ
---
**네이버 로그인**

---
- 기존에 네이버 로그인 기능 구현 완료, 아이디 노출 형식만 처리
  - ```NAVER__{id: ~~~, name: ~~~, email: ~~~}``` 으로 뜨던 걸 oauth2.yml 파일에서 scope에서 유저네임과 이메일을 받아오지 않는 걸로 변경
    - 지금 당장 그램그램 서비스에서는 회원정보가 딱히 필요 없어 보여서 개인정보를 아무것도 받지 않는 걸로 처리
- 변경 후 ```NAVER__{id: ~~~}``` 으로 뜨는 건 CustomOAuth2UserService.java에서 처리
- ```NAVER__~~~``` 으로 뜨게 처리 완료
---
**[특이사항]**

---
- oauth2.yml 파일에 네이버 로그인 구현 시```client-authentication-method: POST```로 두면 로그인 에러 발생
- ```client-authentication-method: POST``` 해당 부분을 지워서 로그인 성공하긴 했는데 이유는 모르겠음
- 후에 네이버 로그인 시 개인정보가 필요하다면 받아오는 걸로 변경 후 ID 포맷 변경 필요해보임
---
  **[Refactoring]**

---